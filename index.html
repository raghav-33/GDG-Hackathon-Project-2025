<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Tweet Generator</title>
  <style>
    /* Root theme variables */
    :root {
      --bg-color: linear-gradient(135deg, #e3f2fd, #f8faff);
      --container-bg: rgba(255, 255, 255, 0.85);
      --text-color: #2c3e50;
      --card-bg: rgba(255, 255, 255, 0.95);
      --card-border: #e0eaf5;
      --highlight-bg: linear-gradient(135deg, #eaf6ff, #f5faff);
      --highlight-border: #cce4fa;
    }

    body.dark {
      --bg-color: linear-gradient(135deg, #1a1a1a, #2c2c2c);
      --container-bg: rgba(34, 34, 34, 0.9);
      --text-color: #f4f4f4;
      --card-bg: rgba(45, 45, 45, 0.95);
      --card-border: #444;
      --highlight-bg: linear-gradient(135deg, #2c2c2c, #3a3a3a);
      --highlight-border: #555;
    }

    /* Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: "Inter", "Segoe UI", sans-serif;
    }

    /* Body */
    body {
      background: var(--bg-color);
      color: var(--text-color);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 30px;
      transition: background 0.3s ease, color 0.3s ease;
    }

    /* Container */
    .container {
      width: 100%;
      max-width: 900px;
      background: var(--container-bg);
      backdrop-filter: blur(12px);
      padding: 25px;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
      animation: fadeIn 0.8s ease;
    }

    /* Header */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
    }

    h1 {
      font-size: 2.2rem;
      font-weight: 700;
      background: linear-gradient(90deg, #2c82f6, #00b4d8);
      background-clip: text;          /* standard */
      -webkit-background-clip: text;  /* webkit */
      -webkit-text-fill-color: transparent;
      color: transparent;             /* fallback */
    }

    .theme-toggle {
      padding: 10px 16px;
      background: linear-gradient(90deg, #2c82f6, #00b4d8);
      color: white;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .theme-toggle:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0, 180, 216, 0.4);
    }

    /* Prompt Box */
    .prompt-box {
      display: flex;
      gap: 12px;
      margin-bottom: 30px;
    }

    .prompt-box input {
      flex: 1;
      padding: 14px;
      border: 1px solid var(--card-border);
      border-radius: 12px;
      font-size: 16px;
      outline: none;
      transition: all 0.3s ease;
      background: var(--card-bg);
      color: var(--text-color);
    }

    .prompt-box input:focus {
      border-color: #2c82f6;
      box-shadow: 0 0 0 4px rgba(44, 130, 246, 0.1);
    }

    .prompt-box button {
      padding: 14px 22px;
      background: linear-gradient(90deg, #2c82f6, #00b4d8);
      color: white;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      font-size: 15px;
      transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

    .prompt-box button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 14px rgba(0, 180, 216, 0.4);
    }

    /* Tweets Section */
    .tweets {
      display: flex;
      gap: 20px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }

    .card {
      flex: 1;
      min-width: 280px;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      padding: 18px;
      border-radius: 14px;
      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.05);
      transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.3s ease, color 0.3s ease;
    }

    .card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 18px rgba(0, 0, 0, 0.08);
    }

    .card h2 {
      margin-bottom: 10px;
      font-size: 1.2rem;
    }

    .card p {
      font-size: 15px;
      line-height: 1.5;
    }

    /* Highlighted Cards */
    .highlight-card {
      background: var(--highlight-bg);
      border: 1px solid var(--highlight-border);
    }

    /* Animation */
    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(15px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Header with Theme Toggle -->
    <div class="header">
      <h1>AI Tweet Generator</h1>
      <button class="theme-toggle" onclick="toggleTheme()">ðŸŒ™ Toggle Theme</button>
    </div>

    <!-- Prompt Box -->
    <div class="prompt-box">
      <input id="prompt" placeholder="Enter your prompt for tweet generation..." />
      <button onclick="runPrompt()">Generate</button>
    </div>

    <!-- Tweets A & B -->
    <div class="tweets">
      <div class="card">
        <h2>Tweet A</h2>
        <p id="tweet_a">Your generated Tweet A will appear here...</p>
      </div>
      <div class="card">
        <h2>Tweet B</h2>
        <p id="tweet_b">Your generated Tweet B will appear here...</p>
      </div>
    </div>

    <!-- Best Tweet -->
    <div class="card highlight-card">
      <h2>Best Tweet</h2>
      <p id="prediction">Best tweet will be shown here...</p>
    </div>

    <!-- Explanation -->
    <div class="card highlight-card">
      <h2>Explanation</h2>
      <p id="explanation">Explanation about why the best tweet was chosen will appear here...</p>
    </div>
  </div>

  <script>
    const tweet_a = document.getElementById('tweet_a');
    const tweet_b = document.getElementById('tweet_b');
    const prediction = document.getElementById('prediction');
    const explanation = document.getElementById('explanation');

    // Run prompt fetch
    const runPrompt = async () => {
      const input = document.getElementById('prompt');
      if (!input.value.trim()) {
        alert("Please enter a prompt!");
        return;
      }

      const resp = await fetch(`http://127.0.0.1:5000/generate?prompt=${encodeURIComponent(input.value)}`);
      const data = await resp.json();

      tweet_a.innerHTML = data.tweet_a;
      tweet_b.innerHTML = data.tweet_b;
      prediction.innerHTML = data.prediction;
      explanation.innerHTML = data.explanation;
    }  

    // Theme toggle
    const toggleTheme = () => {
      document.body.classList.toggle("dark");
    }
  </script>
</body>
</html>
